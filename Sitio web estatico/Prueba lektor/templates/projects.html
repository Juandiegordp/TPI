{% extends "layout.html" %}
{% block title %}Projects{% endblock %}
{% block body %}

{% for type, projects in this.children|groupby("type") %}
<div class="text-center pb-5">
  <h1>{{type}}</h1>
  <div id="{{type}}" class="carousel carousel-dark slide text-center" data-bs-ride="carousel">
    <div class="carousel-indicators">
      {% for project in projects %}
      <button type="button" data-bs-target="#{{type}}" data-bs-slide-to="{{loop.index-1}}" {%if (loop.index-1==0) %} class="active" aria-current="true" {% endif %}aria-label="{{project.name}}"></button>
      {% endfor %}
    </div>
    <div class="carousel-inner">
    {% for project in projects %}
      <div class="carousel-item {%if (loop.index-1==0) %} active {% endif %}">
        {% set image = project.attachments.images.first() %}
        {% if image %}
        <img src="{{image|url}}" height=400 alt="Imagen ilustrativa">
        {% endif %}
        <div class="carousel-caption ">
          <h5><a href="{{ project|url }}">{{ project.name }}</a></h5>
        </div>
      </div>
    {% endfor %}
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#{{type}}" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#{{type}}" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>
</div>
{% endfor %}

<!--

  <div id="carousel2" class="carousel carousel-dark slide text-center" data-bs-ride="carousel">
    <div class="carousel-indicators">
      <button type="button" data-bs-target="#carousel2" data-bs-slide-to="0" class="active" aria-current="true"></button>
      <button type="button" data-bs-target="#carousel2" data-bs-slide-to="1" ></button>
      <button type="button" data-bs-target="#carousel2" data-bs-slide-to="2" ></button>
    </div>
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img src="https://cdn.pixabay.com/photo/2015/03/26/09/41/chain-690088_960_720.jpg" alt="...">
        <div class="carousel-caption">
          <h5>First slide label</h5>
          <p>Some representative placeholder content for the first slide.</p>
        </div>
      </div>
      <div class="carousel-item">
        <img src="https://cdn.pixabay.com/photo/2015/03/26/09/52/chain-link-690503_960_720.jpg" alt="...">
        <div class="carousel-caption">
          <h5>Second slide label</h5>
          <p>Some representative placeholder content for the second slide.</p>
        </div>
      </div>
      <div class="carousel-item">
        <img src="https://cdn.pixabay.com/photo/2018/06/17/20/35/chain-3481377_960_720.jpg" alt="...">
        <div class="carousel-caption">
          <h5>Third slide label</h5>
          <p>Some representative placeholder content for the third slide.</p>
        </div>
      </div>
    </div>
    <button class="carousel-control-prev" type="button " data-bs-target="#carousel2" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carousel2" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>

  <div id="carousel1" class="carousel carousel-dark slide text-center" data-bs-ride="carousel">
    <div class="carousel-indicators">
      <button type="button" data-bs-target="#carousel1" data-bs-slide-to="0" class="active" aria-current="true"></button>
      <button type="button" data-bs-target="#carousel1" data-bs-slide-to="1" ></button>
      <button type="button" data-bs-target="#carousel1" data-bs-slide-to="2" ></button>
    </div>
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img src="https://cdn.pixabay.com/photo/2015/03/26/09/41/chain-690088_960_720.jpg" alt="...">
        <div class="carousel-caption">
          <h5>First slide label</h5>
          <p>Some representative placeholder content for the first slide.</p>
        </div>
      </div>
      <div class="carousel-item">
        <img src="https://cdn.pixabay.com/photo/2015/03/26/09/52/chain-link-690503_960_720.jpg" alt="...">
        <div class="carousel-caption">
          <h5>Second slide label</h5>
          <p>Some representative placeholder content for the second slide.</p>
        </div>
      </div>
      <div class="carousel-item">
        <img src="https://cdn.pixabay.com/photo/2018/06/17/20/35/chain-3481377_960_720.jpg" alt="...">
        <div class="carousel-caption">
          <h5>Third slide label</h5>
          <p>Some representative placeholder content for the third slide.</p>
        </div>
      </div>
    </div>
    <button class="carousel-control-prev" type="button " data-bs-target="#carousel1" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carousel1" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>
-->
{% endblock %}